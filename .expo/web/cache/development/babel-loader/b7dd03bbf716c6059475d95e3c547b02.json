{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar hoist_non_react_statics_1 = __importDefault(require(\"hoist-non-react-statics\"));\n\nvar styleConsumer_service_1 = require(\"./styleConsumer.service\");\n\nvar mappingContext_1 = require(\"../mapping/mappingContext\");\n\nvar themeContext_1 = require(\"../theme/themeContext\");\n\nexports.styled = function (Component) {\n  if (!Component.styledComponentName) {\n    console.warn('Styled components should specify corresponding style name.');\n    return null;\n  }\n\n  var Wrapper = function (_react_1$default$Comp) {\n    _inherits(Wrapper, _react_1$default$Comp);\n\n    var _super = _createSuper(Wrapper);\n\n    function Wrapper() {\n      var _this;\n\n      _classCallCheck(this, Wrapper);\n\n      _this = _super.apply(this, arguments);\n      _this.state = {\n        interaction: []\n      };\n      _this.init = false;\n\n      _this.onInit = function (style, theme) {\n        _this.service = new styleConsumer_service_1.StyleConsumerService(Component.styledComponentName, style, theme);\n        _this.defaultProps = _this.service.createDefaultProps();\n        _this.init = true;\n      };\n\n      _this.onDispatch = function (interaction) {\n        _this.setState({\n          interaction: interaction\n        });\n      };\n\n      _this.withEvaProp = function (sourceProps, sourceStyle, theme) {\n        var props = _objectSpread({}, _this.defaultProps, {}, sourceProps);\n\n        var style = _this.service.createStyleProp(props, sourceStyle, theme, _this.state.interaction);\n\n        return _objectSpread({}, props, {\n          eva: {\n            theme: theme,\n            style: style,\n            dispatch: _this.onDispatch\n          }\n        });\n      };\n\n      _this.renderWrappedElement = function (style, theme) {\n        if (!_this.init) {\n          _this.onInit(style, theme);\n        }\n\n        var _this$props = _this.props,\n            forwardedRef = _this$props.forwardedRef,\n            restProps = _objectWithoutProperties(_this$props, [\"forwardedRef\"]);\n\n        return react_1.default.createElement(Component, _extends({}, _this.withEvaProp(restProps, style, theme), {\n          ref: forwardedRef\n        }));\n      };\n\n      return _this;\n    }\n\n    _createClass(Wrapper, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return react_1.default.createElement(mappingContext_1.MappingContext.Consumer, null, function (style) {\n          return react_1.default.createElement(themeContext_1.ThemeContext.Consumer, null, function (theme) {\n            return _this2.renderWrappedElement(style, theme);\n          });\n        });\n      }\n    }]);\n\n    return Wrapper;\n  }(react_1.default.Component);\n\n  var WrappingElement = function WrappingElement(props, ref) {\n    return react_1.default.createElement(Wrapper, _extends({}, props, {\n      forwardedRef: ref\n    }));\n  };\n\n  var ResultComponent = react_1.default.forwardRef(WrappingElement);\n  ResultComponent.displayName = Component.displayName || Component.name;\n  hoist_non_react_statics_1.default(ResultComponent, Component);\n  return ResultComponent;\n};","map":{"version":3,"sources":["../../../../../src/components/theme/style/styled.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst hoist_non_react_statics_1 = __importDefault(require(\"hoist-non-react-statics\"));\nconst styleConsumer_service_1 = require(\"./styleConsumer.service\");\nconst mappingContext_1 = require(\"../mapping/mappingContext\");\nconst themeContext_1 = require(\"../theme/themeContext\");\n/**\n * High Order Function to apply style mapping on a component.\n * Used by all UI Kitten components and can be used when building custom components with Eva.\n *\n * Requires component to have a static `styledComponentName` property which defines\n * corresponding component name in mapping.\n *\n * Injects `eva` property into component props, which is `{ theme, style, dispatch }`.\n * Current theme, styles provided by Eva and dispatch function to request styles for a particular state.\n *\n * @property {string} appearance - Appearance of component. Default is provided by mapping.\n *\n * @property {EvaProp} eva - Additional property injected to all `styled` components. Includes following properties:\n * `theme` - current theme,\n * `style` - style provided by Eva,\n * `dispatch` - Function for requesting styles from Eva for current component state.\n *\n * @param Component - Type: {ComponentType}. Component to be styled.\n *\n * @overview-example StyledComponentSimpleUsage\n *\n * @overview-example StyledComponentStates\n *\n * @overview-example StyledComponentVariants\n */\nexports.styled = (Component) => {\n    // @ts-ignore\n    if (!Component.styledComponentName) {\n        console.warn('Styled components should specify corresponding style name.');\n        return null;\n    }\n    class Wrapper extends react_1.default.Component {\n        constructor() {\n            super(...arguments);\n            this.state = {\n                interaction: [],\n            };\n            this.init = false;\n            this.onInit = (style, theme) => {\n                // @ts-ignore\n                this.service = new styleConsumer_service_1.StyleConsumerService(Component.styledComponentName, style, theme);\n                this.defaultProps = this.service.createDefaultProps();\n                this.init = true;\n            };\n            this.onDispatch = (interaction) => {\n                this.setState({ interaction });\n            };\n            this.withEvaProp = (sourceProps, sourceStyle, theme) => {\n                const props = { ...this.defaultProps, ...sourceProps };\n                const style = this.service.createStyleProp(props, sourceStyle, theme, this.state.interaction);\n                return {\n                    ...props,\n                    eva: {\n                        theme,\n                        style,\n                        dispatch: this.onDispatch,\n                    },\n                };\n            };\n            this.renderWrappedElement = (style, theme) => {\n                if (!this.init) {\n                    this.onInit(style, theme);\n                }\n                const { forwardedRef, ...restProps } = this.props;\n                return (react_1.default.createElement(Component, Object.assign({}, this.withEvaProp(restProps, style, theme), { ref: forwardedRef })));\n            };\n        }\n        render() {\n            return (react_1.default.createElement(mappingContext_1.MappingContext.Consumer, null, (style) => (react_1.default.createElement(themeContext_1.ThemeContext.Consumer, null, (theme) => {\n                return this.renderWrappedElement(style, theme);\n            }))));\n        }\n    }\n    const WrappingElement = (props, ref) => {\n        return (\n        // @ts-ignore\n        react_1.default.createElement(Wrapper, Object.assign({}, props, { forwardedRef: ref })));\n    };\n    const ResultComponent = react_1.default.forwardRef(WrappingElement);\n    ResultComponent.displayName = Component.displayName || Component.name;\n    hoist_non_react_statics_1.default(ResultComponent, Component);\n    // @ts-ignore\n    return ResultComponent;\n};\n//# sourceMappingURL=styled.js.map"]},"metadata":{},"sourceType":"script"}